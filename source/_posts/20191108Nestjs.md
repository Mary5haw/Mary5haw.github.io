---
title: "node框架Nest.js入门操作"
catalog: true
date: 2019-11-08
subtitle: ""
header-img: "Demo.png"
tags:
- 技术
catagories:
- 技术
---

#### 命令

```
​//创建一个名字为admin的子项目
nest g app admin

//子项目中创建一个模块
//mo 是models创建admin下面的users
nest g mo -p admin users

//mo 是controller创建admin下面的users
nest g co -p admin users

//启动子项目admin的监听模式
nest start -w admin

//新建所有子项目的公共库
nest g lib db
//建议将名字设置为libs

//连接数据库包安装
npm i nestjs-typegoose @typegoose/typegoose

//安装mongoose和相应types的提示
npm i mongoose @types/mongoose

//引入crud=>一行代码实现增删改查
npm i nestjs-mongoose-crud

//安装swagger文档管理包
npm i @nestjs/swagger swagger-ui-express

```
 

#### 工具类

Vscode 编辑器代码块插件
Vscode NestJs Snippets
github地址：https://github.com/ashinzekene/vscode-nestjs-snippets
学习材料
入门级学习文档
https://github.com/dzzzzzy/Nestjs-Learning/blob/master/docs/provider.md
相关材料大全
https://docs.nestjs.cn/6/awesome


#### 基本

要想理解nestjs的源码先要理解和掌握以下知识:
ES6的proxy，reflect
TypeScript的decorator
inversion of control (IoC)的基本概念
一定TypeScript基础.
如何通过decorator和元数据实现依赖注入
container类: 用于存储所有模块
scanner类: 递归提取出所有模块并存储到容器中; 提取出模块间的关联关系和模块自身的各种类以及内部联系，并存储到模块中;
module类: 存储自身的关联模块、组件、可注入类、控制器类
injector类: 依赖注入的核心环节, 在所有模块的内容和关系都被扫描出后, 来创建实例,
instanceLoader类: 使用Injector来加载模块的各种实例, 这个过程很复杂, 伴随递归和各种判断